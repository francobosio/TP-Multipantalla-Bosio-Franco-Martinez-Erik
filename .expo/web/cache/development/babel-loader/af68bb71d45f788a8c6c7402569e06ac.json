{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport axios from 'axios';\nimport PhotoDetail from \"./PhotoDetail\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar PhotoList = function PhotoList(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      photos = _useState2[0],\n      setPhotos = _useState2[1];\n\n  var styles = StyleSheet.create({\n    mainViewStyle: {\n      height: '100%',\n      display: 'flex'\n    },\n    flatListStyle: {\n      flexGrow: 0,\n      height: '100%'\n    }\n  });\n  useEffect(function () {\n    var getPhotos = function _callee() {\n      var response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(\"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=6e8a597cb502b7b95dbd46a46e25db8d&photoset_id=\" + props.route.params.albumId + \"&user_id=137290658%40N08&format=json&nojsoncallback=1\"));\n\n            case 3:\n              response = _context.sent;\n              setPhotos(response.data.photoset.photo);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    getPhotos();\n  }, []);\n\n  var renderAlbums = function renderAlbums(_ref) {\n    var item = _ref.item;\n    return _jsx(PhotoDetail, {\n      title: item.title,\n      imageUrl: \"https://farm\" + item.farm + \".staticflickr.com/\" + item.server + \"/\" + item.id + \"_\" + item.secret + \".jpg\"\n    }, item.title);\n  };\n\n  console.log(photos);\n  return !photos ? _jsx(View, {\n    style: styles.mainViewStyle,\n    children: _jsx(Text, {\n      children: \"Loading...\"\n    })\n  }) : _jsx(View, {\n    style: styles.mainViewStyle,\n    children: _jsx(FlatList, {\n      data: photos,\n      renderItem: renderAlbums,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      }\n    })\n  });\n};\n\nexport default PhotoList;","map":{"version":3,"names":["React","useState","useEffect","axios","PhotoDetail","PhotoList","props","photos","setPhotos","styles","StyleSheet","create","mainViewStyle","height","display","flatListStyle","flexGrow","getPhotos","get","route","params","albumId","response","data","photoset","photo","console","log","renderAlbums","item","title","farm","server","id","secret"],"sources":["C:/Users/Usuario/Desktop/multipantalla/TP-Multipantalla-Bosio-Franco-Martinez-Erik/components/PhotoList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Text, View, FlatList, StyleSheet } from 'react-native';\nimport axios from 'axios';\nimport PhotoDetail from './PhotoDetail';\n\nconst PhotoList = (props) => {\n\tconst [ photos, setPhotos ] = useState(null);\n\n\tconst styles = StyleSheet.create({\n\t\tmainViewStyle: {\n\t\t  height: '100%',\n\t\t  display: 'flex'\n\t\t},\n\t\tflatListStyle:{\n\t\t  flexGrow: 0,\n\t\t  height: '100%'\n\t\t}\n\t  })\n\n\tuseEffect(() => {\n\t\tconst getPhotos = async () => {\n\t\t\tlet response;\n\t\t\ttry {\n\t\t\t\tresponse = await axios.get(\n\t\t\t\t\t`https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=6e8a597cb502b7b95dbd46a46e25db8d&photoset_id=${props\n\t\t\t\t\t\t.route.params.albumId}&user_id=137290658%40N08&format=json&nojsoncallback=1`\n\t\t\t\t);\n\t\t\t\tsetPhotos(response.data.photoset.photo);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(error);\n\t\t\t}\n\t\t};\n\t\tgetPhotos();\n\t}, []);\n\n\tconst renderAlbums = ({ item }) => (\n\t\t<PhotoDetail\n\t\t\tkey={item.title}\n\t\t\ttitle={item.title}\n\t\t\timageUrl={`https://farm${item.farm}.staticflickr.com/${item.server}/${item.id}_${item.secret}.jpg`}\n\t\t/>\n\t);\n\n\tconsole.log(photos)\n\treturn !photos ? (\n\t\t<View style={styles.mainViewStyle}>\n\t\t\t<Text>Loading...</Text>\n\t\t</View>\n\t) : (\n\t\t<View style={styles.mainViewStyle}>\n\t\t\t<FlatList \n\t\t\tdata={photos} \n\t\t\trenderItem={renderAlbums} \n\t\t\tkeyExtractor={(item) => item.id} \n\t\t\t/>\n\t\t</View>\n\t);\n};\n\nexport default PhotoList;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;;;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP;;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;EAC5B,gBAA8BL,QAAQ,CAAC,IAAD,CAAtC;EAAA;EAAA,IAAQM,MAAR;EAAA,IAAgBC,SAAhB;;EAEA,IAAMC,MAAM,GAAGC,UAAU,CAACC,MAAX,CAAkB;IAChCC,aAAa,EAAE;MACbC,MAAM,EAAE,MADK;MAEbC,OAAO,EAAE;IAFI,CADiB;IAKhCC,aAAa,EAAC;MACZC,QAAQ,EAAE,CADE;MAEZH,MAAM,EAAE;IAFI;EALkB,CAAlB,CAAf;EAWAX,SAAS,CAAC,YAAM;IACf,IAAMe,SAAS,GAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAGCd,KAAK,CAACe,GAAN,mIACgHZ,KAAK,CACnIa,KAD8H,CACxHC,MADwH,CACjHC,OAFC,2DAHD;;YAAA;cAGhBC,QAHgB;cAOhBd,SAAS,CAACc,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuBC,KAAxB,CAAT;cAPgB;cAAA;;YAAA;cAAA;cAAA;cAShBC,OAAO,CAACC,GAAR;;YATgB;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAlB;;IAYAV,SAAS;EACT,CAdQ,EAcN,EAdM,CAAT;;EAgBA,IAAMW,YAAY,GAAG,SAAfA,YAAe;IAAA,IAAGC,IAAH,QAAGA,IAAH;IAAA,OACpB,KAAC,WAAD;MAEC,KAAK,EAAEA,IAAI,CAACC,KAFb;MAGC,QAAQ,mBAAiBD,IAAI,CAACE,IAAtB,0BAA+CF,IAAI,CAACG,MAApD,SAA8DH,IAAI,CAACI,EAAnE,SAAyEJ,IAAI,CAACK,MAA9E;IAHT,GACML,IAAI,CAACC,KADX,CADoB;EAAA,CAArB;;EAQAJ,OAAO,CAACC,GAAR,CAAYpB,MAAZ;EACA,OAAO,CAACA,MAAD,GACN,KAAC,IAAD;IAAM,KAAK,EAAEE,MAAM,CAACG,aAApB;IAAA,UACC,KAAC,IAAD;MAAA;IAAA;EADD,EADM,GAKN,KAAC,IAAD;IAAM,KAAK,EAAEH,MAAM,CAACG,aAApB;IAAA,UACC,KAAC,QAAD;MACA,IAAI,EAAEL,MADN;MAEA,UAAU,EAAEqB,YAFZ;MAGA,YAAY,EAAE,sBAACC,IAAD;QAAA,OAAUA,IAAI,CAACI,EAAf;MAAA;IAHd;EADD,EALD;AAaA,CApDD;;AAsDA,eAAe5B,SAAf"},"metadata":{},"sourceType":"module"}