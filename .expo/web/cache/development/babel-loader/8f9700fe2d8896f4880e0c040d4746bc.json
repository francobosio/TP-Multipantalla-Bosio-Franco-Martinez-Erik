{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport axios from 'axios';\nimport PhotoDetail from \"./PhotoDetail\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nvar PhotoList = function PhotoList(props) {\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      photos = _useState2[0],\n      setPhotos = _useState2[1];\n\n  useEffect(function () {\n    var getPhotos = function _callee() {\n      var response;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(\"https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=6e8a597cb502b7b95dbd46a46e25db8d&photoset_id=\" + props.route.params.albumId + \"&user_id=137290658%40N08&format=json&nojsoncallback=1\"));\n\n            case 3:\n              response = _context.sent;\n              setPhotos(response.data.photoset.photo);\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[0, 7]], Promise);\n    };\n\n    getPhotos();\n  }, []);\n\n  var renderAlbums = function renderAlbums() {\n    return photos.map(function (photo) {\n      return _jsx(PhotoDetail, {\n        title: photo.title,\n        imageUrl: \"https://farm\" + photo.farm + \".staticflickr.com/\" + photo.server + \"/\" + photo.id + \"_\" + photo.secret + \".jpg\"\n      }, photo.title);\n    });\n  };\n\n  return !photos ? _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(Text, {\n      children: \"Loading...\"\n    })\n  }) : _jsx(View, {\n    style: {\n      flex: 1\n    },\n    children: _jsx(FlatList, {\n      children: renderAlbums()\n    })\n  });\n};\n\nexport default PhotoList;","map":{"version":3,"names":["React","useState","useEffect","axios","PhotoDetail","PhotoList","props","photos","setPhotos","getPhotos","get","route","params","albumId","response","data","photoset","photo","console","log","renderAlbums","map","title","farm","server","id","secret","flex"],"sources":["C:/Users/fbosio/Desktop/proyecto-multip/components/PhotoList.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport {ScrollView, Text, View} from 'react-native';\nimport axios from 'axios';\nimport PhotoDetail from './PhotoDetail';\n\nconst PhotoList = (props) => {\n  const [photos, setPhotos] = useState(null);\n\n  useEffect(() => {\n    const getPhotos = async () => {\n      let response;\n      try {\n        response = await axios.get(\n          `https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key=6e8a597cb502b7b95dbd46a46e25db8d&photoset_id=${props.route.params.albumId}&user_id=137290658%40N08&format=json&nojsoncallback=1`,\n        );\n        setPhotos(response.data.photoset.photo);\n      }\n      catch (error) {\n        console.log(error);\n      }\n    }\n    \n    getPhotos();\n  }, [])\n\n  const renderAlbums = () => {\n    return photos.map((photo) => (\n      <PhotoDetail\n        key={photo.title}\n        title={photo.title}\n        imageUrl={`https://farm${photo.farm}.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}.jpg`}\n      />\n    ));\n  }\n\n  return(\n    (!photos ? \n        <View style={{flex: 1}}>\n          <Text>Loading...</Text>\n        </View>\n      :\n        <View style={{flex: 1}}>\n          <FlatList>{renderAlbums()}</FlatList>\n        </View>)\n      )\n}\n\nexport default PhotoList;\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;;;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP;;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,CAACC,KAAD,EAAW;EAC3B,gBAA4BL,QAAQ,CAAC,IAAD,CAApC;EAAA;EAAA,IAAOM,MAAP;EAAA,IAAeC,SAAf;;EAEAN,SAAS,CAAC,YAAM;IACd,IAAMO,SAAS,GAAG;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA;cAAA,iCAGGN,KAAK,CAACO,GAAN,mIACiHJ,KAAK,CAACK,KAAN,CAAYC,MAAZ,CAAmBC,OADpI,2DAHH;;YAAA;cAGdC,QAHc;cAMdN,SAAS,CAACM,QAAQ,CAACC,IAAT,CAAcC,QAAd,CAAuBC,KAAxB,CAAT;cANc;cAAA;;YAAA;cAAA;cAAA;cASdC,OAAO,CAACC,GAAR;;YATc;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAAlB;;IAaAV,SAAS;EACV,CAfQ,EAeN,EAfM,CAAT;;EAiBA,IAAMW,YAAY,GAAG,SAAfA,YAAe,GAAM;IACzB,OAAOb,MAAM,CAACc,GAAP,CAAW,UAACJ,KAAD;MAAA,OAChB,KAAC,WAAD;QAEE,KAAK,EAAEA,KAAK,CAACK,KAFf;QAGE,QAAQ,mBAAiBL,KAAK,CAACM,IAAvB,0BAAgDN,KAAK,CAACO,MAAtD,SAAgEP,KAAK,CAACQ,EAAtE,SAA4ER,KAAK,CAACS,MAAlF;MAHV,GACOT,KAAK,CAACK,KADb,CADgB;IAAA,CAAX,CAAP;EAOD,CARD;;EAUA,OACG,CAACf,MAAD,GACG,KAAC,IAAD;IAAM,KAAK,EAAE;MAACoB,IAAI,EAAE;IAAP,CAAb;IAAA,UACE,KAAC,IAAD;MAAA;IAAA;EADF,EADH,GAKG,KAAC,IAAD;IAAM,KAAK,EAAE;MAACA,IAAI,EAAE;IAAP,CAAb;IAAA,UACE,KAAC,QAAD;MAAA,UAAWP,YAAY;IAAvB;EADF,EANN;AAUD,CAxCD;;AA0CA,eAAef,SAAf"},"metadata":{},"sourceType":"module"}